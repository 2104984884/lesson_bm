<script>
  var test = (function () {
    var num = 0
    console.log(num);
    return () => {
      console.log(num)
      return num++
    }
  }())

  for (var i = 0; i < 10; i++) {
    test()
  }

  console.log(test())
</script>